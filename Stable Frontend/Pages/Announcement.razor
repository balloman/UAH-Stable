@page "/announcement"

@using Stable_Frontend.Data
@using Stable_Lib.Handlers
@inject FirestoreHandler Handler
@inject NavigationManager NavManager

<body>
    <div class="navbar navbar-light bg-light">
        <div class="navbar-brand mb-0">
            <h2>Announcements</h2>
            
        </div>
    </div>
    <div class="row" id="column-container">
        <div class="col-3" id="category-column">
            <h6 class="font-weight-bold" style="margin:10px 0">Categories</h6>
            <table>
                <tr>
                    <th><input type="checkbox" id="general" value="arts_val" /></th>
                    <th>General</th>
                </tr>
                <tr>
                    <th></th>
                    <th style="font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif">Colleges</th>
                </tr>
                <tr>
                    <th><input type="checkbox" id="arts" value="arts_val" bind="@Checked[0]" /></th>
                    <th><input type="checkbox" id="arts" value="arts_val" @bind="Checked[0]" /></th>
                    <th>College of Arts Humanities Social Sciences</th>
                </tr>
                <tr>
                    <th><input type="checkbox" id="business" value="business_val" @bind="Checked[1]" /></th>
                    <th>College of Business</th>
                </tr>
                <tr>
                    <th><input type="checkbox" id="education" value="education_val" @bind="Checked[2]" /></th>
                    <th>College of Education</th>
                </tr>
                <tr>
                    <th><input type="checkbox" id="engineering" value="engineering_val" @bind="Checked[3]" /></th>
                    <th>College of Engineering</th>
                </tr>
                <tr>
                    <th><input type="checkbox" id="nursing" value="nursing_val" @bind="Checked[4]" /></th>
                    <th>College of Nursing</th>
                </tr>
                <tr>
                    <th><input type="checkbox" id="science" value="science_val" @bind="Checked[5]" /></th>
                    <th>College of Science</th>
                </tr>
                <tr>
                    <th><input type="checkbox" id="honors" value="honors_val" @bind="Checked[6]" /></th>
                    <th>Honors College</th>
                </tr>
                <tr>
                    <th></th>
                    <th>Communities</th>
                </tr>
            </table>
            <br/>
            <button class="btn btn-primary" @onclick="Sort">Filter</button>
        </div>
        <div class="col-8" id="table-column">
            <div style="overflow: auto">
                <table class="table">
                    <thead>
                        <tr>
                            <th scope="col">College</th>
                            <th scope="col">Title</th>
                            <th scope="col">Last Modified</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var resultsKey in Results.Keys)
                        {
                            <tr>
                                @* <td><b hidden="@Results[resultsKey].College[0]== ">A</b><b>B</b><b>Ed</b><b>En</b><b>N</b><b>S</b><b>H</b></td> *@
                                <td>@foreach(var c in Results[resultsKey].College){@(c.Substring(0, 2) + ' ')}</td>
                                <a href="/post/@resultsKey"><td>@Results[resultsKey].Title</td></a>
                                <td>@Results[resultsKey].LastModified.ToLocalTime().ToString("f")</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
            <div id="edit-button-container">
                <button class="btn-primary" id="add_post" @onclick="AddPost">Add Announcement</button>
            </div>
        </div>
    </div>
</body>
